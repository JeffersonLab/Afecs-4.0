
<!--
  ~   Copyright (c) 2017.  Jefferson Lab (JLab). All rights reserved. Permission
  ~   to use, copy, modify, and distribute  this software and its documentation for
  ~   governmental use, educational, research, and not-for-profit purposes, without
  ~   fee and without a signed licensing agreement.
  ~
  ~   IN NO EVENT SHALL JLAB BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT, SPECIAL
  ~   INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS, ARISING
  ~   OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF JLAB HAS
  ~   BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  ~
  ~   JLAB SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  ~   THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  ~   PURPOSE. THE CLARA SOFTWARE AND ACCOMPANYING DOCUMENTATION, IF ANY,
  ~   PROVIDED HEREUNDER IS PROVIDED "AS IS". JLAB HAS NO OBLIGATION TO PROVIDE
  ~   MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
  ~
  ~   This software was developed under the United States Government license.
  ~   For more information contact author at gurjyan@jlab.org
  ~   Department of Experimental Nuclear Physics, Jefferson Lab.
  -->

<html>
<head>
    <title></title>
</head>
<body>
 

<h2 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">How To</span>
</h2>

<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column sites-layout-hbox" cellspacing="0"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-on sites-embed sites-embed-full-width" style="width: 100%;"><h4 class="sites-embed-title">Run AFECS platform</h4><div class="sites-embed-content sites-embed-type-text"><div class="sites-embed-content-textbox"><div dir="ltr">First of all make sure that you set following environmental variables:<br>EXPID, AFECS_HOME, COOL_HOME. Refer AFECS <a href="https://sites.google.com/site/afecscoda/our-company/our-staff/installation-execution"><i><span style="color: rgb(102, 0, 0);">Installation &amp; execution</span></i></a> section for more details.<br>Execute <i><span style="color: rgb(102, 0, 0);">$AFECS_HOME/bin/platform</span></i>. This will start platform <a href="https://sites.google.com/site/afecscoda/our-company/our-staff/ty/platform-bormative-agents">normative agents</a>, pub-sub server and front end container. In case you don't want to run an AFECS <a href="https://sites.google.com/site/afecscoda/our-company/our-staff/container">container</a> on that particular node run platform script with the<b style="color: rgb(102, 0, 0);"> -nofe</b> option.If you need more verbosity run <i><span style="color: rgb(102, 0, 0);">platform</span></i> with the <b style="color: rgb(102, 0, 0);">-debug</b> option. <br><br></div></div></div></div></div><br><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-on sites-embed sites-embed-full-width" style="width: 100%;"><h4 class="sites-embed-title">Run AFECS container</h4><div class="sites-embed-content sites-embed-type-text"><div class="sites-embed-content-textbox"><div dir="ltr">The software architecture of AFECS is based on coexistence of multiple <a href="https://sites.google.com/site/afecscoda/our-company/our-staff/container">containers</a>, providing complete run time environment for AFECS agent execution and allows several agents to concurrently run on the same host. AFECS design choice limits to only one container per control node. To run the container execute <i style="color: rgb(102, 0, 0);">$AFECS_HOME/bin/container</i>. By default it will run with the <b style="color: rgb(102, 0, 0);">-NOmulticast</b> option. This means that container will connect to the platform through direct TCP using host name defined in the $COOL_HOME/<a href="https://sites.google.com/site/afecscoda/our-company/our-staff/installation-execution">setup.xml </a>file. In the case you are not sure where the AFECS platform is running, then run <i><span style="color: rgb(102, 0, 0);">$AFECS_HOME/bin/container</span></i> with the <b style="color: rgb(102, 0, 0);">-multicast</b> option.<br></div></div></div></div></div><br><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-on sites-embed sites-embed-full-width" style="width: 100%;"><h4 class="sites-embed-title">Start run control GUI</h4><div class="sites-embed-content sites-embed-type-text"><div class="sites-embed-content-textbox"><div dir="ltr">&nbsp;Type <i><span style="color: rgb(102, 0, 0);">$AFECS_HOME/bin/rcgui</span></i> to start run control GUI. Synopsis of the <i><span style="color: rgb(102, 0, 0);">rcgui</span></i> is: <br><i><span style="color: rgb(102, 0, 0);">rcgui -&lt;option&gt; &lt;value&gt;</span></i><br>The list of <i><span style="color: rgb(102, 0, 0);">rcgui</span></i> options are shown in the table below.<br><br><table style="border-collapse: collapse; border-color: rgb(136, 136, 136); border-width: 1px;" border="1" bordercolor="#000000" cellspacing="0"><tbody><tr><td style="text-align: center; color: rgb(19, 79, 92); width: 71px; height: 16px;"><b><font size="2">&nbsp;Option</font></b></td><td style="text-align: center; color: rgb(19, 79, 92); width: 356px; height: 16px;"><b><font size="2">&nbsp;Description of the value<br></font></b></td></tr><tr><td style="width: 71px; height: 16px;"><font size="2">&nbsp;<span style="color: rgb(102, 0, 0);">-help</span></font></td><td style="width: 356px; height: 16px;"><font size="2">&nbsp; Prints synopsis with the description of the options<br></font></td></tr><tr><td style="width: 71px; height: 16px; color: rgb(102, 0, 0);"><font size="2">&nbsp;-n</font></td><td style="width: 356px; height: 16px;"><font size="2">&nbsp; Unique name of the GUI (generated by default)<br></font></td></tr><tr><td style="width: 71px; height: 16px; color: rgb(102, 0, 0);"><font size="2">&nbsp;-s</font></td><td style="width: 356px; height: 16px;"><font size="2">&nbsp; CODA run control session<br></font></td></tr><tr><td style="width: 71px; height: 16px; color: rgb(102, 0, 0);"><font size="2">&nbsp;-e <br></font></td><td style="width: 356px; height: 16px;"><font size="2">&nbsp; Experiment ID (EXPID defined as an environmental variable)<br></font></td></tr><tr><td style="width: 71px; height: 16px; color: rgb(102, 0, 0);"><font size="2">&nbsp;-h</font></td><td style="width: 356px; height: 16px;"><font size="2">&nbsp; Host name of the AFECS platform<br></font></td></tr><tr><td style="width: 71px; height: 16px; color: rgb(102, 0, 0);"><font size="2">&nbsp;-tp</font></td><td style="width: 356px; height: 16px;"><font size="2">&nbsp; TCP port number of the AFECS platform<br></font></td></tr><tr><td style="width: 71px; height: 16px; color: rgb(102, 0, 0);"><font size="2">&nbsp;-up</font></td><td style="width: 356px; height: 16px;"><font size="2">&nbsp; UDP port number of the AFECS platform<br></font></td></tr><tr><td style="width: 71px; height: 16px; color: rgb(102, 0, 0);"><font size="2">&nbsp;-f <br></font></td><td style="width: 356px; height: 16px;"><font size="2">&nbsp; XML configuration file name<br></font></td></tr><tr><td style="width: 71px; height: 16px; color: rgb(102, 0, 0);"><font size="2">&nbsp;-g</font></td><td style="width: 356px; height: 16px;"><font size="2">&nbsp; Enables debug flag<br></font></td></tr></tbody></table><br><span style="color: rgb(102, 0, 0);">rcgui</span>&nbsp; option are non obligatory, and platform specific information (platform host name for example) from $COOL_HOME/setup.xml file will be used as default.<br>Attention: <span style="color: rgb(102, 0, 0);">rcgui</span> will not start if it will not be able to find an AFECS platform to connect to.<br></div></div></div></div></div><br><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-on sites-embed sites-embed-full-width" style="width: 100%;"><h4 class="sites-embed-title">Connect GUI to a control system</h4><div class="sites-embed-content sites-embed-type-text"><div class="sites-embed-content-textbox"><div dir="ltr"><ul><li>Start <span style="color: rgb(102, 0, 0);">rcgui</span> (refer section <span style="color: rgb(39, 78, 19);"><b style="color: rgb(12, 52, 61);">How To &gt; Start run control</b><b><span style="color: rgb(12, 52, 61);"> GUI</span></b> </span>for details).</li><li>Select CODA session</li><ul style="color: rgb(102, 0, 0);"><li><i>Sessions &gt; session name</i></li></ul><li>Select CODA configuration</li><ul><li><i><span style="color: rgb(102, 0, 0);">Configurations &gt; Cool &gt; configuration name &gt; OK</span></i></li></ul></ul>If configuration is active on the platform GUI will display the current state of the selected run control, including state, run number, information about participating components, charts, etc. In the case this is a new control, GUI will display the previously recorded run number for the selected session with the current state of the controls equal to <span style="color: rgb(39, 78, 19);"><b>connected</b>.</span><br></div></div></div></div></div><br></div></td></tr></tbody></table>


</div>
</div>


</body>
</html>